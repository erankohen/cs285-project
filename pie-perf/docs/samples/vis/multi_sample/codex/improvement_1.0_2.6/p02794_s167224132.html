
<html>
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.0/css/bulma.min.css">
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
    <style>
        .container {
            display: flex;
            justify-content: space-between;
        }
        .code-block {
            padding: 10px;
            border-radius: 10px;
            width: 45%;
            background-color: #eaeaea;
            white-space: nowrap;
            overflow: hidden;
        }
        .diff-block-added {
            background-color: #a1f9a2;
            box-shadow: 0px 0px 3px 0px #60bd51;
            padding: 0px;
            border-radius: 10px;
            width: 45%;
        }
        .diff-block-removed {
            background-color: #fdd4d4;
            padding: 0px;
            border-radius: 10px;
            width: 45%;
            box-shadow: 0px 0px 3px 0px #ff7f7f;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="code-block">
            <p><strong>Slow Code:</strong></p>
            <p class="diff-block-removed">1. N&nbsp;=&nbsp;int(eval(input()))</p>
            <p>2. X&nbsp;=&nbsp;[[]&nbsp;for&nbsp;i&nbsp;in&nbsp;range(N)]</p>
            <p>3. for&nbsp;i&nbsp;in&nbsp;range(N&nbsp;-&nbsp;1):</p>
            <p>4. &nbsp;&nbsp;&nbsp;&nbsp;x,&nbsp;y&nbsp;=&nbsp;list(map(int,&nbsp;input().split()))</p>
            <p>5. &nbsp;&nbsp;&nbsp;&nbsp;X[x&nbsp;-&nbsp;1].append(y&nbsp;-&nbsp;1)</p>
            <p>6. &nbsp;&nbsp;&nbsp;&nbsp;X[y&nbsp;-&nbsp;1].append(x&nbsp;-&nbsp;1)</p>
            <p>7. P&nbsp;=&nbsp;[-1]&nbsp;*&nbsp;N</p>
            <p>8. DE&nbsp;=&nbsp;[0]&nbsp;*&nbsp;N</p>
            <p>9. Q&nbsp;=&nbsp;[0]</p>
            <p>10. while&nbsp;Q:</p>
            <p>11. &nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;=&nbsp;Q.pop()</p>
            <p>12. &nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;a&nbsp;in&nbsp;X[i][::-1]:</p>
            <p>13. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;a&nbsp;!=&nbsp;P[i]:</p>
            <p>14. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;P[a]&nbsp;=&nbsp;i</p>
            <p>15. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DE[a]&nbsp;=&nbsp;DE[i]&nbsp;+&nbsp;1</p>
            <p>16. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X[a].remove(i)</p>
            <p>17. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Q.append(a)</p>
            <p>18. </p>
            <p>19. </p>
            <p>20. def&nbsp;lp(u,&nbsp;v):</p>
            <p>21. &nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;=&nbsp;0</p>
            <p>22. &nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;u&nbsp;!=&nbsp;v:</p>
            <p>23. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;DE[u]&nbsp;&gt;&nbsp;DE[v]:</p>
            <p>24. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;+=&nbsp;1&nbsp;&lt;&lt;&nbsp;u&nbsp;-&nbsp;1</p>
            <p>25. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u&nbsp;=&nbsp;P[u]</p>
            <p>26. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;DE[u]&nbsp;&lt;&nbsp;DE[v]:</p>
            <p>27. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;+=&nbsp;1&nbsp;&lt;&lt;&nbsp;v&nbsp;-&nbsp;1</p>
            <p>28. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;=&nbsp;P[v]</p>
            <p>29. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:</p>
            <p>30. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;+=&nbsp;1&nbsp;&lt;&lt;&nbsp;u&nbsp;-&nbsp;1</p>
            <p>31. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;+=&nbsp;1&nbsp;&lt;&lt;&nbsp;v&nbsp;-&nbsp;1</p>
            <p>32. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u&nbsp;=&nbsp;P[u]</p>
            <p>33. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;=&nbsp;P[v]</p>
            <p>34. &nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;t</p>
            <p>35. </p>
            <p>36. </p>
            <p>37. Y&nbsp;=&nbsp;[]</p>
            <p class="diff-block-removed">38. M&nbsp;=&nbsp;int(eval(input()))</p>
            <p>39. for&nbsp;_&nbsp;in&nbsp;range(M):</p>
            <p>40. &nbsp;&nbsp;&nbsp;&nbsp;a,&nbsp;b&nbsp;=&nbsp;list(map(int,&nbsp;input().split()))</p>
            <p>41. &nbsp;&nbsp;&nbsp;&nbsp;a,&nbsp;b&nbsp;=&nbsp;a&nbsp;-&nbsp;1,&nbsp;b&nbsp;-&nbsp;1</p>
            <p>42. &nbsp;&nbsp;&nbsp;&nbsp;Y.append(lp(a,&nbsp;b))</p>
            <p>43. D&nbsp;=&nbsp;{1&nbsp;&lt;&lt;&nbsp;i:&nbsp;i&nbsp;for&nbsp;i&nbsp;in&nbsp;range(50)}</p>
            <p>44. Z&nbsp;=&nbsp;[0]&nbsp;*&nbsp;(1&nbsp;&lt;&lt;&nbsp;M)</p>
            <p>45. ans&nbsp;=&nbsp;0</p>
            <p>46. CC&nbsp;=&nbsp;[0]&nbsp;*&nbsp;N</p>
            <p>47. BC&nbsp;=&nbsp;[0]&nbsp;*&nbsp;(1&nbsp;&lt;&lt;&nbsp;17)</p>
            <p>48. for&nbsp;m&nbsp;in&nbsp;range(1,&nbsp;1&nbsp;&lt;&lt;&nbsp;17):</p>
            <p>49. &nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;=&nbsp;m&nbsp;&amp;&nbsp;(-m)</p>
            <p>50. &nbsp;&nbsp;&nbsp;&nbsp;BC[m]&nbsp;=&nbsp;BC[m&nbsp;^&nbsp;a]&nbsp;+&nbsp;1</p>
            <p>51. for&nbsp;m&nbsp;in&nbsp;range(1&nbsp;&lt;&lt;&nbsp;M):</p>
            <p>52. &nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;=&nbsp;m&nbsp;&amp;&nbsp;(-m)</p>
            <p>53. &nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;a&nbsp;==&nbsp;m:</p>
            <p>54. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;a&nbsp;==&nbsp;0:</p>
            <p>55. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Z[m]&nbsp;=&nbsp;0</p>
            <p>56. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:</p>
            <p>57. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Z[m]&nbsp;=&nbsp;Y[D[a]]</p>
            <p>58. &nbsp;&nbsp;&nbsp;&nbsp;else:</p>
            <p>59. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Z[m]&nbsp;=&nbsp;Z[m&nbsp;^&nbsp;a]&nbsp;|&nbsp;Y[D[a]]</p>
            <p>60. &nbsp;&nbsp;&nbsp;&nbsp;aa&nbsp;=&nbsp;Z[m]</p>
            <p>61. &nbsp;&nbsp;&nbsp;&nbsp;bc&nbsp;=&nbsp;BC[aa&nbsp;%&nbsp;(1&nbsp;&lt;&lt;&nbsp;17)]</p>
            <p>62. &nbsp;&nbsp;&nbsp;&nbsp;aa&nbsp;&gt;&gt;=&nbsp;17</p>
            <p>63. &nbsp;&nbsp;&nbsp;&nbsp;bc&nbsp;+=&nbsp;BC[aa&nbsp;%&nbsp;(1&nbsp;&lt;&lt;&nbsp;17)]</p>
            <p>64. &nbsp;&nbsp;&nbsp;&nbsp;aa&nbsp;&gt;&gt;=&nbsp;17</p>
            <p>65. &nbsp;&nbsp;&nbsp;&nbsp;bc&nbsp;+=&nbsp;BC[aa]</p>
            <p>66. &nbsp;&nbsp;&nbsp;&nbsp;CC[N&nbsp;-&nbsp;1&nbsp;-&nbsp;bc]&nbsp;+=&nbsp;1&nbsp;if&nbsp;BC[m&nbsp;%&nbsp;1024]&nbsp;+&nbsp;BC[m&nbsp;&gt;&gt;&nbsp;10]&nbsp;&amp;&nbsp;1&nbsp;==&nbsp;0&nbsp;else&nbsp;-1</p>
            <p>67. print((sum([2**i&nbsp;*&nbsp;CC[i]&nbsp;for&nbsp;i&nbsp;in&nbsp;range(N)])))</p>
        </div>
        <div class="code-block">
            <p><strong>Fast Code [1.0789234447x faster, p02794, s167224132]</strong></p>
            <p class="diff-block-added">1. N&nbsp;=&nbsp;int(input())</p>
            <p>2. X&nbsp;=&nbsp;[[]&nbsp;for&nbsp;i&nbsp;in&nbsp;range(N)]</p>
            <p>3. for&nbsp;i&nbsp;in&nbsp;range(N&nbsp;-&nbsp;1):</p>
            <p>4. &nbsp;&nbsp;&nbsp;&nbsp;x,&nbsp;y&nbsp;=&nbsp;list(map(int,&nbsp;input().split()))</p>
            <p>5. &nbsp;&nbsp;&nbsp;&nbsp;X[x&nbsp;-&nbsp;1].append(y&nbsp;-&nbsp;1)</p>
            <p>6. &nbsp;&nbsp;&nbsp;&nbsp;X[y&nbsp;-&nbsp;1].append(x&nbsp;-&nbsp;1)</p>
            <p>7. P&nbsp;=&nbsp;[-1]&nbsp;*&nbsp;N</p>
            <p>8. DE&nbsp;=&nbsp;[0]&nbsp;*&nbsp;N</p>
            <p>9. Q&nbsp;=&nbsp;[0]</p>
            <p>10. while&nbsp;Q:</p>
            <p>11. &nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;=&nbsp;Q.pop()</p>
            <p>12. &nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;a&nbsp;in&nbsp;X[i][::-1]:</p>
            <p>13. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;a&nbsp;!=&nbsp;P[i]:</p>
            <p>14. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;P[a]&nbsp;=&nbsp;i</p>
            <p>15. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DE[a]&nbsp;=&nbsp;DE[i]&nbsp;+&nbsp;1</p>
            <p>16. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X[a].remove(i)</p>
            <p>17. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Q.append(a)</p>
            <p>18. </p>
            <p>19. </p>
            <p>20. def&nbsp;lp(u,&nbsp;v):</p>
            <p>21. &nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;=&nbsp;0</p>
            <p>22. &nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;u&nbsp;!=&nbsp;v:</p>
            <p>23. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;DE[u]&nbsp;&gt;&nbsp;DE[v]:</p>
            <p>24. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;+=&nbsp;1&nbsp;&lt;&lt;&nbsp;u&nbsp;-&nbsp;1</p>
            <p>25. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u&nbsp;=&nbsp;P[u]</p>
            <p>26. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;DE[u]&nbsp;&lt;&nbsp;DE[v]:</p>
            <p>27. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;+=&nbsp;1&nbsp;&lt;&lt;&nbsp;v&nbsp;-&nbsp;1</p>
            <p>28. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;=&nbsp;P[v]</p>
            <p>29. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:</p>
            <p>30. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;+=&nbsp;1&nbsp;&lt;&lt;&nbsp;u&nbsp;-&nbsp;1</p>
            <p>31. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;+=&nbsp;1&nbsp;&lt;&lt;&nbsp;v&nbsp;-&nbsp;1</p>
            <p>32. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u&nbsp;=&nbsp;P[u]</p>
            <p>33. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;=&nbsp;P[v]</p>
            <p>34. &nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;t</p>
            <p>35. </p>
            <p>36. </p>
            <p>37. Y&nbsp;=&nbsp;[]</p>
            <p class="diff-block-added">38. M&nbsp;=&nbsp;int(input())</p>
            <p>39. for&nbsp;_&nbsp;in&nbsp;range(M):</p>
            <p>40. &nbsp;&nbsp;&nbsp;&nbsp;a,&nbsp;b&nbsp;=&nbsp;list(map(int,&nbsp;input().split()))</p>
            <p>41. &nbsp;&nbsp;&nbsp;&nbsp;a,&nbsp;b&nbsp;=&nbsp;a&nbsp;-&nbsp;1,&nbsp;b&nbsp;-&nbsp;1</p>
            <p>42. &nbsp;&nbsp;&nbsp;&nbsp;Y.append(lp(a,&nbsp;b))</p>
            <p>43. D&nbsp;=&nbsp;{1&nbsp;&lt;&lt;&nbsp;i:&nbsp;i&nbsp;for&nbsp;i&nbsp;in&nbsp;range(50)}</p>
            <p>44. Z&nbsp;=&nbsp;[0]&nbsp;*&nbsp;(1&nbsp;&lt;&lt;&nbsp;M)</p>
            <p>45. ans&nbsp;=&nbsp;0</p>
            <p>46. CC&nbsp;=&nbsp;[0]&nbsp;*&nbsp;N</p>
            <p>47. BC&nbsp;=&nbsp;[0]&nbsp;*&nbsp;(1&nbsp;&lt;&lt;&nbsp;17)</p>
            <p>48. for&nbsp;m&nbsp;in&nbsp;range(1,&nbsp;1&nbsp;&lt;&lt;&nbsp;17):</p>
            <p>49. &nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;=&nbsp;m&nbsp;&amp;&nbsp;(-m)</p>
            <p>50. &nbsp;&nbsp;&nbsp;&nbsp;BC[m]&nbsp;=&nbsp;BC[m&nbsp;^&nbsp;a]&nbsp;+&nbsp;1</p>
            <p>51. for&nbsp;m&nbsp;in&nbsp;range(1&nbsp;&lt;&lt;&nbsp;M):</p>
            <p>52. &nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;=&nbsp;m&nbsp;&amp;&nbsp;(-m)</p>
            <p>53. &nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;a&nbsp;==&nbsp;m:</p>
            <p>54. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;a&nbsp;==&nbsp;0:</p>
            <p>55. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Z[m]&nbsp;=&nbsp;0</p>
            <p>56. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:</p>
            <p>57. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Z[m]&nbsp;=&nbsp;Y[D[a]]</p>
            <p>58. &nbsp;&nbsp;&nbsp;&nbsp;else:</p>
            <p>59. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Z[m]&nbsp;=&nbsp;Z[m&nbsp;^&nbsp;a]&nbsp;|&nbsp;Y[D[a]]</p>
            <p>60. &nbsp;&nbsp;&nbsp;&nbsp;aa&nbsp;=&nbsp;Z[m]</p>
            <p>61. &nbsp;&nbsp;&nbsp;&nbsp;bc&nbsp;=&nbsp;BC[aa&nbsp;%&nbsp;(1&nbsp;&lt;&lt;&nbsp;17)]</p>
            <p>62. &nbsp;&nbsp;&nbsp;&nbsp;aa&nbsp;&gt;&gt;=&nbsp;17</p>
            <p>63. &nbsp;&nbsp;&nbsp;&nbsp;bc&nbsp;+=&nbsp;BC[aa&nbsp;%&nbsp;(1&nbsp;&lt;&lt;&nbsp;17)]</p>
            <p>64. &nbsp;&nbsp;&nbsp;&nbsp;aa&nbsp;&gt;&gt;=&nbsp;17</p>
            <p>65. &nbsp;&nbsp;&nbsp;&nbsp;bc&nbsp;+=&nbsp;BC[aa]</p>
            <p>66. &nbsp;&nbsp;&nbsp;&nbsp;CC[N&nbsp;-&nbsp;1&nbsp;-&nbsp;bc]&nbsp;+=&nbsp;1&nbsp;if&nbsp;BC[m&nbsp;%&nbsp;1024]&nbsp;+&nbsp;BC[m&nbsp;&gt;&gt;&nbsp;10]&nbsp;&amp;&nbsp;1&nbsp;==&nbsp;0&nbsp;else&nbsp;-1</p>
            <p>67. print((sum([2**i&nbsp;*&nbsp;CC[i]&nbsp;for&nbsp;i&nbsp;in&nbsp;range(N)])))</p>
        </div>
    </div>
</body>
</html>